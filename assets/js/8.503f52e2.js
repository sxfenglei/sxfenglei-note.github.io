(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{206:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"vuepress在github上搭建bolg"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vuepress在github上搭建bolg"}},[s._v("#")]),s._v(" vuepress在github上搭建bolg")]),s._v(" "),n("blockquote",[n("p",[s._v("2020.01.08")])]),s._v(" "),n("h2",{attrs:{id:"github"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#github"}},[s._v("#")]),s._v(" github")]),s._v(" "),n("ul",[n("li",[s._v('注册申请一个github账号，创建一个公开的Repository，Repository name建议写成"用户名-项目名.github.io"。')]),s._v(" "),n("li",[s._v('在github的用户setting中找到"SSH and GPG keys"配置自己的本地电脑ssh keys这样是为了方便git提交，不用每次都输入账号密码(其实就是免登陆)')])]),s._v(" "),n("h2",{attrs:{id:"vuepress"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vuepress"}},[s._v("#")]),s._v(" vuepress")]),s._v(" "),n("p",[s._v("1、本地创建项目目录并在项目目录内初始化npm")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" myvuepress\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" myvuepress\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init -y\n")])])]),n("p",[s._v("2、本地项目添加远程github源(刚刚创建的那个git repository)")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url --add origin https://github.com/sxfenglei/sxfenglei-note.github.io.git\n")])])]),n("p",[s._v("3、项目安装vuepress并测试运行")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -D vuepress\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" docs\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'# Hello MyVuePress!'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docs/README.md\n    npx vuepress dev docs "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认访问localhost:8080 如果可以访问说明成功了")]),s._v("\n")])])]),n("p",[s._v("4、package.json配置scripts")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dev"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev docs"')]),s._v(",\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress build docs"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("p",[s._v("以后就直接运行npm run dev 或者npm run build即可。")]),s._v(" "),n("p",[s._v("5、搭建项目目录在docs目录中")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("├── docs\n│   ├── .vuepress "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("自定义模板"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│   │   ├── public "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("静态资源"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\n│   │   ├── config.js "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("公共配置"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│   ├── README.md\n")])])]),n("p",[s._v("6、配置默认首页\ndocs/README.md")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("---\nhome: "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\nheroImage: /img/note.png\nactionText: Come on →\nactionLink: /vuepress/\nfooter: MIT Licensed "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Copyright © "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v(" - sxfenglei\n---\n")])])]),n("p",[s._v("7、配置菜单和侧边栏\ndocs/.vuepress/config.js")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("module.exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  base: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sxfenglei-note.github.io'")]),s._v(",\n\ttitle: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'学习笔记记录'")]),s._v(",\n\tdescription: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'比我优秀的人都那么努力我还抱怨个屁，2020年开始学习记录笔记，生活即便如此也不能在懦弱的抱怨中逃避。'")]),s._v(",\n\thead: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'link'")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("rel: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'icon'")]),s._v(", href:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/img/favicon.ico'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'link'")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("rel: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'manifest'")]),s._v(", href:"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/manifest.json'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n\tthemeConfig: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        nav: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'主页'")]),s._v(", link: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'笔记'")]),s._v(",\n              items: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Web前端'")]),s._v(", link: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/web/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vuepress搭建'")]),s._v(", link: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/vuepress/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关于'")]),s._v(", link: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/about/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Github'")]),s._v(", link: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://github.com/sxfenglei'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n        sidebar: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'auto'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])])]),n("h2",{attrs:{id:"部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[s._v("#")]),s._v(" 部署")]),s._v(" "),n("p",[s._v("1、在根目录创建deploy.sh")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成静态文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入生成的文件夹")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是发布到自定义域名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 'www.example.com' > CNAME")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#git push -f git@github.com:sxfenglei/sxfenglei-note.github.io.git master")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io/<REPO>")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f git@github.com:sxfenglei/sxfenglei-note.github.io.git master:gh-pages\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n\n")])])]),n("p",[s._v("2、在根目录创建.travis.yml")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("anguage: node_js\nnode_js:\n  - lts/*\ninstall:\n  - "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ci\nscript:\n  - "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\ndeploy:\n  provider: pages\n  skip_cleanup: "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  local_dir: docs/.vuepress/dist\n  github_token: "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GITHUB_TOKEN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 GitHub 中生成，用于允许 Travis 向你的仓库推送代码。在 Travis 的项目设置页面进行配置，设置为 secure variable")]),s._v("\n  keep_history: "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  on:\n    branch: master\n")])])]),n("p",[s._v("3、发布部署")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x deploy.sh\n    ./deploy.sh\n")])])]),n("p",[s._v('4、在GitHub中配置gitpages\n进入刚才在GitHub上创建的项目，在项目 项目 项目的Settings中不是用的settings，勾选"Template repository",在GitHub Pages中就能看到网页访问地址。\n刚才项目提交了gh-pages branch分支，所以在GitHub Pages的Source中需要选择gh-pages branch并保存。\n访问https://sxfenglei.github.io/sxfenglei-note.github.io/')])])}),[],!1,null,null,null);t.default=e.exports}}]);